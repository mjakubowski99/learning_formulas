FROM ubuntu:latest

ENV TRAIN_FILE_NAME="train.txt"
ENV TEST_FILE_NAME="test.txt"

#Available options [RANDOM, EVOLUTION]
ENV ALGORITHM="RANDOM"

ENV CYCLES_COUNT=20
ENV FORMULAS_COUNT=200
ENV POSITIVE_RESPONSES_PERCENTAGE=0.4

ENV POPULATIONS_COUNT = 20
ENV POPULATIONS_SIZE = 300
ENV FINAL_POPULATION_SIZE = 100
ENV MUTATION_PERCENTAGE = 0.1
ENV REPRODUCTION_PERCENTAGE = 0.5

ENV MIN_CLAUSES_COUNT = 5
ENV MAX_CLAUSES_COUNT = 5
ENV MIN_LITERALS_COUNT = 5
ENV MAX_LITERALS_COUNT = 10

WORKDIR /src

RUN apt-get update && apt-get install -y \
    build-essential \
    gcc \
    cmake 

COPY . /src

WORKDIR /src/build 

RUN cmake .. && make

CMD ["sh", "-c", "./learning_formulas ${TRAIN_FILE_NAME} ${TEST_FILE_NAME} ${CYCLES_COUNT} ${FORMULAS_COUNT} ${CLAUSES_COUNT} ${LITERALS_COUNT} ${POSITIVE_RESPONSES_PERCENTAGE}"]


